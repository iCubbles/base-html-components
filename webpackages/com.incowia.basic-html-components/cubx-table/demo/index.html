<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>&lt;cubx-table&gt; demo</title>

    <script src="../../../cubx.core.rte@3.0.0-SNAPSHOT/webcomponents/custom-elements-es5-adapter.js"></script>
    <script src="../../../cubx.core.rte@3.0.0-SNAPSHOT/webcomponents/webcomponents-lite.js"></script>

    <!--
        Refer to the crc-loader artifact from a Cubbles-Base.
        Take care: All other dependencies are expected to be available within the same Base!

        Want to add a 'main' -script to be executed after the dependencies have been loaded?
        If yes, add the following attribute: data-crc-main="js/my-script.js"
    -->
    <script src="../../../cubx.core.rte@3.0.0-SNAPSHOT/crc-loader/js/main.js" data-crcinit-loadcif="true"></script>

</head>
<body>
<!--  Place cubbles components there. -->
<cubx-table cubx-webpackage-id="this">

</cubx-table>
<script>
    cubxTable = document.getElementsByTagName('cubx-table')[0];

    document.addEventListener('cifReady', function() {
        setData();
    });

    var data = [
        ["id", "Name", "Vorname", "Kundennummer"],
        [1, "Mustermann", "Max", "1234567890"],
        [2, "Mustermann", "Alice", "1234567891"]
    ];

    var data2 = [
        ["id", "Name", "Vorname", "Kundengruppe"],
        [1, "Mustermann", "T1", "admin"],
        [2, "Mustermann", "T2", "customer"]
    ];

    function setData() {
      cubxTable.setSettings({advancedCol: {
        color: 'green',
          content: '...',
          link: 'kundenkonto?id=',
          ref: 'id'
      },
      key: 'id'});
        cubxTable.setData(data);
        setTimeout(function() {
            cubxTable.setData(data2);
        }, 5000);
    }
</script>
</body>
</html>
